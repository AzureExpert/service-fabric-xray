<div class="controlPanel">
    <div class="filter controlGroup">
        <a (click)="toggleSelected()">{{!expanded && '[+] Expand applications' || '[-] Collapse applications'}}</a>
    </div>
    <div class="controls controlGroup">
        <div>
            <span>Metric:</span>
            <select name="metricDropDown" [ngModel]="selectedMetricName" (change)="onChangeCapacity($event.target.value)">
                <option *ngFor="#capacity of capacities" [ngValue]="capacity.name">{{capacity.name}}</option>
            </select>
        </div>
        <div>
            <span>Show:</span>
            <select name="colorDropDown" [ngModel]="selectedColors" (change)="onChangeColors($event.target.value)">
                <option value="status">Status</option>
                <option value="health">Health</option>
            </select>
        </div>
    </div>
    <div class="filter controlGroup">
        <h4>Node types</h4>
        <ul>
            <li *ngFor="#nodeType of selectedNodeTypes">
                <input id="{{nodeType.name}}" type="checkbox" [(ngModel)]="nodeType.selected" (change)="onSelectNodeType(nodeType.name, $event)" /><label title="{{nodeType.name}}" attr.for="{{nodeType.name}}">{{nodeType.name}}</label>
            </li>
        </ul>
    </div>
    <div class="filter controlGroup">
        <h4>Application types</h4>
        <li *ngFor="#applicationType of selectedApplicationTypes">
            <input id="{{applicationType.name}}" type="checkbox" [(ngModel)]="applicationType.selected" /><label title="{{applicationType.name}}" attr.for="{{applicationType.name}}">{{applicationType.name}}</label>
        </li>
    </div>
</div>
<div class="nodes">
    <div class="scale">
        <label>{{scaleFactor}}</label>
        <input [(ngModel)]="scaleFactor" class="scaleBar" type="range" orient="vertical" min="0" max="2.0" step="0.02" />
    </div>
    
    <ul class="nodeList">
        <li *ngFor="#node of nodes" class="nodeListItem">
            <node-component *ngIf="hasSelectedCapacity(node)"
                            [nodeName]="node.name"
                            [nodeType]="node.nodeType"
                            [selectedApplicationTypes]="selectedApplicationTypes"
                            [health]="node.health"
                            [status]="node.status"
                            [selected]="node.selected"
                            [nodeCapacities]="node.capacities"
                            [scaleFactor]="scaleFactor"
                            [capacities]="capacities"
                            [selectedColors]="selectedColors"
                            [selectedMetricName]="selectedMetricName">
            </node-component>
        </li>
    </ul>
</div>
