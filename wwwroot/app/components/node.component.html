<div [ngClass]="getDeployedEntityClass(['nodeHeader'])">
    <div class="nodeTitle">
        <h4 class="nodeName">{{nodeName}}</h4>
        <span class="nodeType">{{nodeType}}</span>
    </div>
    <div class="nodeStatus">
        <h4>{{selectedColors == 'status' ? status : health}}</h4>
        <span>{{address}}</span>
    </div>
    <div *ngIf="selectedCapacity.capacity >= 0" [ngClass]="{ 'nodeStats': true, 'nodeCapacityWarning': loadPercent >= 90 && !selectedCapacity.isCapacityViolation, 'nodeCapacityViolation': selectedCapacity.isCapacityViolation }">
        <h3>{{loadPercent}}%</h3>
        <h5>{{selectedMetricName}}</h5>
        <span>{{selectedCapacity.load}} of {{selectedCapacity.capacity}}</span>
    </div>
    <div *ngIf="selectedCapacity.capacity < 0" class="nodeStats ">
         <h3>10%</h3>
         <h5>Deployed replicas</h5>
         <span>18 of 102</span>
    </div>
</div>
<div #container
     [ngClass]="getDeployedEntityClass(['node'])"
     [style.height]="elementHeight < 0 ? 'auto' : elementHeight + 'px'">
    <ul class="application-list">
        <li *ngFor="#item of applications">
            <application-component *ngIf="hasSelectedMetric(item.application.metrics)"
                                   [nodeName]="nodeName"
                                   [applicationName]="item.application.name"
                                   [metrics]="item.application.metrics"
                                   [health]="item.application.health"
                                   [status]="item.application.status"
                                   [services]="item.services"
                                   [selected]="item.selected"
                                   [selectedColors]="selectedColors"
                                   [selectedMetricName]="selectedMetricName"
                                   [parentCapacity]="parentCapacity"
                                   [parentContainerSize]="parentContainerSize">
            </application-component>
        </li>
    </ul>
</div>
