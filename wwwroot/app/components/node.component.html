<div [ngClass]="getDeployedEntityClass(['nodeHeader'])">
    <div class="nodeTitle">
        <label class="nodeName">{{nodeName}}</label>
        <label class="nodeType">{{nodeType}}</label>
    </div>
    <div *ngIf="selectedCapacity.capacity >= 0" [ngClass]="{ 'nodeCapacityStats': true, 'nodeCapacityWarning': loadPercent >= 90 && !selectedCapacity.isCapacityViolation, 'nodeCapacityViolation': selectedCapacity.isCapacityViolation }">
        <h3>{{loadPercent}}%</h3>
        <h5>{{selectedMetricName}}</h5>
        <h6>{{selectedCapacity.load}} of {{selectedCapacity.capacity}}</h6>
    </div>
    <div *ngIf="selectedCapacity.capacity < 0" class="nodeApplicationStats">
        <ul>
            <li>applications: 2</li>
            <li>services: 10</li>
            <li>stateful replicas: 50</li>
            <li>stateless instances: 3</li>
        </ul>
    </div>
</div>
<div #container
     [ngClass]="getDeployedEntityClass(['node'])"
     [style.height]="elementHeight < 0 ? 'auto' : elementHeight + 'px'">
    <ul class="application-list">
        <li *ngFor="#item of applications">
            <application-component *ngIf="hasSelectedMetric(item.application.metrics)"
                                   [nodeName]="nodeName"
                                   [applicationName]="item.application.name"
                                   [metrics]="item.application.metrics"
                                   [health]="item.application.health"
                                   [status]="item.application.status"
                                   [services]="item.services"
                                   [selected]="item.selected"
                                   [selectedColors]="selectedColors"
                                   [selectedMetricName]="selectedMetricName"
                                   [parentCapacity]="parentCapacity"
                                   [parentContainerSize]="parentContainerSize">
            </application-component>
        </li>
    </ul>
</div>
